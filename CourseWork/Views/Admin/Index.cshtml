@model IEnumerable<CourseWork.ViewModels.Admin.UserViewModel>

@{
	ViewData["Title"] = @Localizer["AdminPage"];
}

<div class="container text-center">
	<form asp-action="UsersForm" asp-controller="Admin" method="post">
		<button class="btn btn-outline-success" name="type" value="Unlock">@Localizer["Unlock"]</button>
		<button class="btn btn-outline-warning" name="type" value="Block">@Localizer["Block"]</button>
		<button class="btn btn-outline-warning" name="type" value="AddToAdmin">@Localizer["AddtoAdmin"]</button>
		<button class="btn btn-outline-danger" name="type" value="RemoveFromAdmin">@Localizer["RemoveFromAdmin"]</button>
		<button class="btn btn-outline-danger" name="type" value="Delete">@Localizer["Delete"]</button><br /><br />

		<div style="overflow: auto;">
			<table class="table table-sm">
				<thead>
					<tr>
						<th scope="col">
							<label class="form-check-label" for="selectAll">@Localizer["SelectAll"] </label>
							<input id="selectAll" class="form-check-input" type="checkbox" onClick="toggle(this)" />
						</th>
						<th scope="col">Id</th>
						<th scope="col">@Localizer["Name"]</th>
						<th scope="col">@Localizer["RegistrationDate"]</th>
						<th scope="col">@Localizer["Status"]</th>
						<th scope="col">@Localizer["Role"]</th>
					</tr>
				</thead>
				<tbody>
					@foreach (var user in Model)
					{
						<tr>
							<td><input type="checkbox" class="form-check-input" name="selectedUsers" value="@user.Id" /></td>
							<td><p>@user.Id</p></td>
							<td><p>@user.Name</p></td>
							<td><p>@user.RegistrationDate.ToShortDateString()</p></td>
							<td><p>@(user.IsBlocked ? "Заблокирован" : "Активный")</p></td>
							<td><p>@user.Role.ToString()</p></td>
						</tr>
					}
				</tbody>
			</table>
		</div>
	</form>
</div>

@section Scripts {
	<script src="~/js/checkbox.js"></script>
}
